# Mini Server - Modern C++17 HTTP Server

A professional-grade C++17 HTTP server with modular design and modern C++ best practices, supporting dynamic service registration and cross-platform deployment.

## 🌟 Core Features

- ⚡ **Modern C++17**: Latest C++ features, RAII, smart pointers, move semantics
- 🌐 **Cross-platform**: Full compatibility with Windows, Linux, macOS
- 🔒 **Thread Safe**: Multi-threaded concurrent processing with optimized read-write locks
- 📝 **Professional Logging**: Hierarchical logging system with color output and file recording
- 🎯 **Service Registration**: Dynamic service registration and management with hot-swapping
- 🛡️ **Error Handling**: Comprehensive exception safety and error recovery mechanisms
- 📚 **API Documentation**: Complete API documentation in Doxygen style
- ⚡ **High Performance**: Zero-dependency design with pure C++ standard library implementation

## 🏗️ Project Architecture

### Modular Design
```
miniserver::core      - Core server and routing logic
miniserver::http      - HTTP protocol handling and parsing
miniserver::network   - Cross-platform network abstraction layer
miniserver::services  - Dynamic service registration system
miniserver::utils     - Logging and utility modules
```

### Technology Stack
- **C++17**: Modern C++ standard with smart pointers, move semantics, RAII
- **CMake 3.15+**: Cross-platform build system
- **Standard Library**: Pure C++ standard library, no third-party dependencies
- **Multi-threading**: std::thread, std::mutex, std::shared_mutex
- **Networking**: Native socket programming, Windows Winsock2 / Unix sockets

### Frontend
- **HTML5/CSS3**: Modern web standards
- **JavaScript**: Dynamic interaction and data updates
- **Responsive Design**: Adaptive to various devices

## 🚀 Quick Start

### Prerequisites

- Visual Studio 2019/2022 or MinGW-w64
- CMake 3.15+
- Windows 10/11 (Linux/macOS support available)

### Build Steps

1. **Clone Repository**
   ```bash
   git clone https://github.com/your-username/mini-server.git
   cd mini-server
   ```

2. **Configure Project**
   ```bash
   cmake -B build -S .
   ```

3. **Build**
   ```bash
   cmake --build build --config Release
   ```

4. **Run Server**
   ```bash
   ./build/Release/MiniServer.exe
   ```

5. **Test Client**
   ```bash
   ./build/Release/test_client.exe
   ```

## 📁 Project Structure

```
mini-server/
├── .github/                    # GitHub configuration
├── source/                     # Source code directory
│   ├── server/                 # Server implementation
│   │   ├── core/              # Core modules
│   │   │   ├── server.hpp     # Main server class
│   │   │   ├── server.cpp
│   │   │   ├── service_registry.hpp # Service registry
│   │   │   └── service_registry.cpp
│   │   ├── net/               # Network layer
│   │   │   ├── socket_server.hpp # Cross-platform socket server
│   │   │   ├── socket_server.cpp
│   │   │   ├── http_types.hpp # HTTP type definitions
│   │   │   └── http_parser.hpp # HTTP parser
│   │   └── utils/             # Utility modules
│   │       ├── logger.hpp     # Logging system
│   │       └── logger.cpp
│   ├── client/                # Test client
│   │   ├── test_client.cpp    # HTTP test client
│   │   └── CMakeLists.txt
│   └── third_party/           # Third-party libraries
├── build/                     # Build output directory (generated by CMake)
├── scripts/                   # Build scripts
├── CMakeLists.txt            # CMake build configuration
├── README.md                 # Project documentation
└── PROJECT_STRUCTURE.md     # Detailed project structure
```

## 🔧 API Usage

### Basic Server Setup

```cpp
#include "core/server.hpp"

int main() {
    // Create server on port 8080
    miniserver::core::Server server(8080);
    
    // Register a simple echo service
    server.RegisterService("echo", [](const std::string& input) {
        return "{\"result\":\"" + input + "\"}";
    });
    
    // Start server
    server.Start();
    
    // Keep server running
    while (server.IsRunning()) {
        std::this_thread::sleep_for(std::chrono::seconds(1));
    }
    
    return 0;
}
```

### Available Endpoints

- `GET /ping` - Health check
- `GET /services` - List registered services
- `POST /service/<name>` - Call specific service
- `OPTIONS /*` - CORS preflight

### Example Services

The server comes with built-in example services:

- **Echo Service**: Returns input as output
- **Upper Service**: Converts input to uppercase
- **Reverse Service**: Reverses input string
- **Length Service**: Returns length of input string

## 🧪 Testing

### Manual Testing with curl

```bash
# Health check
curl http://localhost:8080/ping

# List services
curl http://localhost:8080/services

# Call echo service
curl -X POST http://localhost:8080/service/echo -d "Hello World"

# Call upper service
curl -X POST http://localhost:8080/service/upper -d "hello world"
```

### Automated Testing

Run the included test client:

```bash
./build/Release/test_client.exe
```

## 🔧 Configuration

### Build Options

- `CMAKE_BUILD_TYPE`: Debug or Release
- `CMAKE_CXX_STANDARD`: C++ standard (17 by default)

### Runtime Configuration

- Default port: 8080 (configurable via command line)
- Log level: Info (configurable in code)

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🔗 Links

- [Documentation](docs/)
- [Issues](https://github.com/your-username/mini-server/issues)
- [Discussions](https://github.com/your-username/mini-server/discussions)

## 🙏 Acknowledgments

- Modern C++ community for best practices
- CMake team for excellent build system
- Contributors and testers
