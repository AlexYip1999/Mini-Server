# Mini Server - C++17 HTTP Server

## Project Structure

```
mini-server/
├── .github/                    # GitHub configuration
├── .vscode/                    # VS Code configuration  
├── build/                      # Build output directory (generated by CMake)
├── source/                     # Source code directory
│   ├── server/                 # Server implementation
│   │   ├── core/              # Core modules
│   │   │   ├── server.hpp     # Main server class
│   │   │   ├── server.cpp
│   │   │   ├── service_registry.hpp # Service registry
│   │   │   ├── service_registry.cpp
│   │   │   ├── request_router.hpp   # Request router
│   │   │   └── request_router.cpp
│   │   ├── net/               # Network abstraction layer
│   │   │   ├── socket_server.hpp    # Cross-platform socket server
│   │   │   ├── socket_server.cpp
│   │   │   ├── http_types.hpp       # HTTP type definitions
│   │   │   ├── http_types.cpp
│   │   │   ├── http_parser.hpp      # HTTP parser
│   │   │   └── http_parser.cpp
│   │   ├── utils/             # Utility modules
│   │   │   ├── logger.hpp     # Logging system
│   │   │   └── logger.cpp
│   │   └── main.cpp           # Application entry point
│   ├── client/                # Test client
│   │   ├── test_client.cpp    # HTTP test client implementation
│   │   ├── CMakeLists.txt     # Client build configuration
│   │   ├── README.md          # Client documentation
│   │   └── build/             # Client build directory
│   └── third_party/           # Third-party libraries
│       ├── json/              # JSON library (if needed)
│       ├── logging/           # Additional logging libraries
│       └── networking/        # Additional networking libraries
├── scripts/                   # Build and utility scripts
│   └── build_win.bat         # Windows build script
├── CMakeLists.txt            # Main CMake build configuration
├── README.md                 # Project documentation (English)
└── PROJECT_STRUCTURE.md     # This file - detailed project structure
```

## Key Features

- 🔧 **Modern C++17**: Uses latest C++ features and best practices
- 🌐 **Cross-platform**: Supports Windows, Linux, macOS
- 🔒 **Thread Safe**: Multi-threaded concurrent processing with read-write locks for performance optimization
- 📝 **Complete Logging**: Hierarchical logging system with console and file output
- 🎯 **Service Registration**: Dynamic service registration and management system
- 🛡️ **Error Handling**: Comprehensive exception handling and error reporting
- 📚 **Detailed Documentation**: Doxygen-style API documentation

## Module Overview

### Core Module (`source/server/core/`)
- **Server**: Main HTTP server orchestration
- **ServiceRegistry**: Dynamic service registration and lookup
- **RequestRouter**: HTTP request routing and dispatch

### Network Module (`source/server/net/`)
- **SocketServer**: Cross-platform TCP socket abstraction
- **HttpTypes**: HTTP protocol type definitions
- **HttpParser**: HTTP request/response parsing

### Utils Module (`source/server/utils/`)
- **Logger**: Thread-safe logging with multiple output destinations

### Client Module (`source/client/`)
- **TestClient**: Comprehensive HTTP test client for server validation

### Third Party Module (`source/third_party/`)
- Reserved for external dependencies
- JSON libraries, additional networking tools, etc.

## Build Instructions

```bash
# Configure project
cmake -B build -S .

# Build server and client
cmake --build build --config Release

# Run server
./build/Release/MiniServer.exe

# Run test client (in another terminal)
./build/Release/test_client.exe
```

## Development Guidelines

- Follow Google C++ Style Guide
- Use modern C++17 features consistently
- Maintain thread safety in all shared components
- Document all public APIs with Doxygen comments
- Write comprehensive unit tests
- Keep modules loosely coupled and highly cohesive

## Adding New Features

1. **New Service**: Implement in `ServiceRegistry` and register in `main.cpp`
2. **New Protocol**: Extend `HttpTypes` and `HttpParser`
3. **New Utility**: Add to `utils/` module
4. **Third Party Lib**: Place in `third_party/` and update CMakeLists.txt

## Dependencies

- **C++17 Compiler**: MSVC 2019+, GCC 8+, Clang 8+
- **CMake 3.15+**: Build system
- **Standard Library Only**: No external dependencies for core functionality

本项目采用现代C++17设计模式：

1. **模块化设计**：每个功能模块独立，便于维护和测试
2. **命名空间组织**：`miniserver::core`、`::http`、`::network`等
3. **RAII原则**：资源自动管理，避免内存泄漏
4. **异常安全**：完善的异常处理机制
5. **可扩展性**：易于添加新功能和服务

该架构适合作为微服务基础框架或学习现代C++的参考项目。
