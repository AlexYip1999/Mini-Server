# Mini Server - C++17 HTTP Server

## Project Structure

```
mini-server/
â”œâ”€â”€ .github/                    # GitHub configuration
â”œâ”€â”€ .vscode/                    # VS Code configuration  
â”œâ”€â”€ build/                      # Build output directory (generated by CMake)
â”œâ”€â”€ source/                     # Source code directory
â”‚   â”œâ”€â”€ server/                 # Server implementation
â”‚   â”‚   â”œâ”€â”€ core/              # Core modules
â”‚   â”‚   â”‚   â”œâ”€â”€ server.hpp     # Main server class
â”‚   â”‚   â”‚   â”œâ”€â”€ server.cpp
â”‚   â”‚   â”‚   â”œâ”€â”€ service_registry.hpp # Service registry
â”‚   â”‚   â”‚   â”œâ”€â”€ service_registry.cpp
â”‚   â”‚   â”‚   â”œâ”€â”€ request_router.hpp   # Request router
â”‚   â”‚   â”‚   â””â”€â”€ request_router.cpp
â”‚   â”‚   â”œâ”€â”€ net/               # Network abstraction layer
â”‚   â”‚   â”‚   â”œâ”€â”€ socket_server.hpp    # Cross-platform socket server
â”‚   â”‚   â”‚   â”œâ”€â”€ socket_server.cpp
â”‚   â”‚   â”‚   â”œâ”€â”€ http_types.hpp       # HTTP type definitions
â”‚   â”‚   â”‚   â”œâ”€â”€ http_types.cpp
â”‚   â”‚   â”‚   â”œâ”€â”€ http_parser.hpp      # HTTP parser
â”‚   â”‚   â”‚   â””â”€â”€ http_parser.cpp
â”‚   â”‚   â”œâ”€â”€ utils/             # Utility modules
â”‚   â”‚   â”‚   â”œâ”€â”€ logger.hpp     # Logging system
â”‚   â”‚   â”‚   â””â”€â”€ logger.cpp
â”‚   â”‚   â””â”€â”€ main.cpp           # Application entry point
â”‚   â”œâ”€â”€ client/                # Test client
â”‚   â”‚   â”œâ”€â”€ test_client.cpp    # HTTP test client implementation
â”‚   â”‚   â”œâ”€â”€ CMakeLists.txt     # Client build configuration
â”‚   â”‚   â”œâ”€â”€ README.md          # Client documentation
â”‚   â”‚   â””â”€â”€ build/             # Client build directory
â”‚   â””â”€â”€ third_party/           # Third-party libraries
â”‚       â”œâ”€â”€ json/              # JSON library (if needed)
â”‚       â”œâ”€â”€ logging/           # Additional logging libraries
â”‚       â””â”€â”€ networking/        # Additional networking libraries
â”œâ”€â”€ scripts/                   # Build and utility scripts
â”‚   â””â”€â”€ build_win.bat         # Windows build script
â”œâ”€â”€ CMakeLists.txt            # Main CMake build configuration
â”œâ”€â”€ README.md                 # Project documentation (English)
â””â”€â”€ PROJECT_STRUCTURE.md     # This file - detailed project structure
```

## Key Features

- ğŸ”§ **Modern C++17**: Uses latest C++ features and best practices
- ğŸŒ **Cross-platform**: Supports Windows, Linux, macOS
- ğŸ”’ **Thread Safe**: Multi-threaded concurrent processing with read-write locks for performance optimization
- ğŸ“ **Complete Logging**: Hierarchical logging system with console and file output
- ğŸ¯ **Service Registration**: Dynamic service registration and management system
- ğŸ›¡ï¸ **Error Handling**: Comprehensive exception handling and error reporting
- ğŸ“š **Detailed Documentation**: Doxygen-style API documentation

## Module Overview

### Core Module (`source/server/core/`)
- **Server**: Main HTTP server orchestration
- **ServiceRegistry**: Dynamic service registration and lookup
- **RequestRouter**: HTTP request routing and dispatch

### Network Module (`source/server/net/`)
- **SocketServer**: Cross-platform TCP socket abstraction
- **HttpTypes**: HTTP protocol type definitions
- **HttpParser**: HTTP request/response parsing

### Utils Module (`source/server/utils/`)
- **Logger**: Thread-safe logging with multiple output destinations

### Client Module (`source/client/`)
- **TestClient**: Comprehensive HTTP test client for server validation

### Third Party Module (`source/third_party/`)
- Reserved for external dependencies
- JSON libraries, additional networking tools, etc.

## Build Instructions

```bash
# Configure project
cmake -B build -S .

# Build server and client
cmake --build build --config Release

# Run server
./build/Release/MiniServer.exe

# Run test client (in another terminal)
./build/Release/test_client.exe
```

## Development Guidelines

- Follow Google C++ Style Guide
- Use modern C++17 features consistently
- Maintain thread safety in all shared components
- Document all public APIs with Doxygen comments
- Write comprehensive unit tests
- Keep modules loosely coupled and highly cohesive

## Adding New Features

1. **New Service**: Implement in `ServiceRegistry` and register in `main.cpp`
2. **New Protocol**: Extend `HttpTypes` and `HttpParser`
3. **New Utility**: Add to `utils/` module
4. **Third Party Lib**: Place in `third_party/` and update CMakeLists.txt

## Dependencies

- **C++17 Compiler**: MSVC 2019+, GCC 8+, Clang 8+
- **CMake 3.15+**: Build system
- **Standard Library Only**: No external dependencies for core functionality

æœ¬é¡¹ç›®é‡‡ç”¨ç°ä»£C++17è®¾è®¡æ¨¡å¼ï¼š

1. **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼Œä¾¿äºç»´æŠ¤å’Œæµ‹è¯•
2. **å‘½åç©ºé—´ç»„ç»‡**ï¼š`miniserver::core`ã€`::http`ã€`::network`ç­‰
3. **RAIIåŸåˆ™**ï¼šèµ„æºè‡ªåŠ¨ç®¡ç†ï¼Œé¿å…å†…å­˜æ³„æ¼
4. **å¼‚å¸¸å®‰å…¨**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
5. **å¯æ‰©å±•æ€§**ï¼šæ˜“äºæ·»åŠ æ–°åŠŸèƒ½å’ŒæœåŠ¡

è¯¥æ¶æ„é€‚åˆä½œä¸ºå¾®æœåŠ¡åŸºç¡€æ¡†æ¶æˆ–å­¦ä¹ ç°ä»£C++çš„å‚è€ƒé¡¹ç›®ã€‚
